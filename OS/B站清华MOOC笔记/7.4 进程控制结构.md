# 7.4 进程控制结构

### 进程控制块

* 操作系统管理控制进程运行所用的信息集合
* OS用PCB来描述进程的基本情况以及运行变化的过程。
* PCB是进程存在的唯一标志。进程与PCB一一对应，同时创建，同时结束。

### 使用进程控制块

* 进程的创建：为该进程生成一个PCB
* 进程的终止：回收他的PCB
* 进程的组织管理：通过对PCB的组织管理来实现。

### 进程控制块的三大类信息

1. 进程标识信息：如 本进程的标识，父进程的标识，用户标识
2. 处理器状态信息保存区：保存进程的运行现场信息：
    * 用户可见寄存器，用户程序可以使用的数据，地址等寄存器。
    * 控制和状态寄存器，如程序计数器，程序状态字（PSW）
    * 栈指针：过程调用/系统调用/中断处理和返回时需要用到它
3. 进程控制信息：
    * 调度和状态信息，用于操作系统调度进程并占用CPU使用。不同状态体现进程的执行现状。
    * 进程间通信信息，为支持进程间与通信相关的各种标识，信号，信件等，这些信息存在接收方的进程控制块中。
    * 存储管理信息，包含有指向本进程映像存储空间的数据结构。
    * 进程所用资源，说明由进程打开，使用的系统资源。
    * 有关数据结构连接信息，进程可以连接到一个进程队列中，或连接到相关的其它进程的PCB。

### PCB的组织方式

* 链表：同一状态的进程其PCB成一链表，多个状态对应多个不同的链表。
    * 比如就绪链表，阻塞链表等。
    * 一般来说都是选用链表，因为进程是动态的，会涉及大量的插入与删除。
* 索引表：同一状态的进程归入一个index表（index指向PCB），多个状态对应多个index表
    * 比如就绪索引表
    * 如果进程比较固定，可以采用索引表。