# 3.2地址空间与地址生成

[toc]

### 地址空间定义

* 物理地址空间：硬件直接对应，内存条对应的主存及磁盘对应的另一种。管理控制由硬件完成。
* 逻辑地址空间：一个运行的程序拥有的内存范围，一维线性的。最终是要落实在物理地址空间的。

### 地址生成

* 二者需要OS来建立映射关系。逻辑地址->物理地址
* 逻辑地址生产：
    * .c 通过编译得到 .s （汇编程序）
    * .s 通过汇编得到 .o .o程序起始地址都是从0开始
    * .o 通过链接得到 .exe 多个.o变为一个可执行程序
    * .exe 通过载入（程序重定向）进入内存中
* 从逻辑地址到物理地址的过程：
    * CPU执行指令ALU部件需要指令内容，发出请求，参数为逻辑地址
    * CPU中MMU去查找逻辑地址的映射表中是否有对应的逻辑地址
    * MMU没有就去内存中找，找到了控制器会给主存发送请求找该物理地址的内容
    * 主存将内存中的内容通过总线传给CPU

### 地址安全检查

* 确保内存中的程序不相互干扰
* OS限制程序访问的逻辑地址，起始位置及长度限定
* 区域限制的映射表也是OS建立的