# 6.3 最近最久未使用算法

* Least Recently Used， LRU

### 基本思路：

* 当一个缺页中断发生时，选择最久未使用的那个页面置换出去。
* 这是对最优页面置换算法的近似，最优页面置换算法是基于预测。而最近最久未使用算法基于过去对未来进行预测。
* 预测依据：程序的局部性。在最近一小段时间内，如果某些页面被频繁访问，那么在将来的一小段时间内，它们还可能会再一次被频繁访问；如果过去某些页面长时间没有被访问，那么将来它们还可能长时间得不到访问。

### 实现方法

* LRU算法要记录各个页面使用时间的先后，开销较大
* 两种实现方式：链表与栈
    * 表头/栈顶存放最近访问的页；表尾/栈底存放最久未使用的页。
    * 每次访问内存时，将该页插入表头/压入栈顶，再在数据结构中查找是否已经存放过该页，如果有，删除之。
    * 发生缺页中断时，将表尾/栈底的页面删除。
* 代价：每次内存访问都需要在数据结构中进行查找