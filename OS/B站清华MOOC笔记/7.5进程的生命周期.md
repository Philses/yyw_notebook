# 7.5进程的生命周期

### 进程的生命周期

* 进程创建
    * 引起进程创建的3个主要事件：
        * 系统初始化时，init进程的创建
        * 用户请求创建一个新的进程
        * 正在运行的进程执行了创建进程的系统调用
    * 在内存中构建一个PCB，这个PCB代表了进程最初始化的状态。
* 进程运行
    * 内核选择一个就绪的进程，让它占用CPU并执行。由就绪态变到running态
    * 为何选择？如何选择？需要OS的调度算法。
* 进程等待
    * 以下情况，进程等待（阻塞）
        * 请求并等待系统服务，无法马上完成。比如磁盘文件读入内存中时，读的速度很慢，为了不占用CPU，这个进程应该选择阻塞。
        * 进程要启动某种操作，要等等别的进程的结果，现在无法马上完成。
        * 需要的数据没有到达（比如等待网络数据包）
    * 进程只能自己阻塞自己，因为别的进程和OS不会了解进程需要进行的操作。
    * 阻塞的进程不占用CPU。
* 进程唤醒
    * 被阻塞的进程唤醒的原因：
        * 等待的资源/数据可被满足
        * 被阻塞进程   等待的事件到达
    * 被唤醒的进程的PCB插入到就绪队列中。
    * 进程的唤醒只能由别的进程或者OS完成。
* 进程结束
    * 进程结束的四种情况：
        * 正常退出（自愿）
        * 错误退出（自愿）
        * 致命错误（强制性的）
        * 被其它进程杀死（强制性的）



