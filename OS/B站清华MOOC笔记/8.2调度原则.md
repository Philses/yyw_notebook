# 8.2调度原则

### 执行模型

* 程序在CPU突发和I/O中交替。
* 对于单一进程，在执行大量计算时会使得CPU占用率高，在进行I/O等待时CPU占用率很低。对于多个进程，如何调度使得当某些进程阻塞在等待I/O时，让另外一些进程占用CPU进行计算。从而提高整体的效率
* 每个调度决定都是关于在下一个CPU突发时将哪个工作交给CPU
* 在时间分片机制下，线程可能可能在结束当前CPU突发前被迫放弃CPU

### 调用算法的评价指标

* CPU使用率：CPU处于忙碌状态所占时间的百分比
* 吞吐量：单位时间内完成的进程数量
* 周转时间：一个进程从初始化到结束所花的时间。包括两部分：运行的时间+等待的时间
* 等待时间：处于就绪态的进程经过多少时间成为运行态（就绪进程在就绪队列中的总时间）
* 响应时间：一个请求被提交到产生第一次响应所花费的总时间。

### “更快”的服务

* 什么是更快
    * 传输文件时的高带宽
    * 玩游戏时的低延迟
    * 这两个因素往往是相矛盾的，调度算法要取一个平衡。
* 和水管类比：
    * 低延迟：喝水的时候打开水龙头立马就有水流出来（响应非常快）
    * 高带宽：给游泳池注水时希望从水龙头同时流出巨量的水，不在乎是否有延迟。

### 如何“更快”

* 减少响应时间：及时处理用户的输出并且很快地将输出提供给用户
* 减少平均响应时间的波动：交互系统中，响应的稳定比高低差异平均更重要。
* 增加吞吐量：
    * 减少开销（减少操作系统开销，减少上下文切换）
    * 系统资源的高效利用（CPU，I/O设备）
* 减少等待时间：减少每个进程的等待时间。
* 具体服务具体分析：
    * 吞吐量是操作系统的计算带宽。大型计算需要高吞吐量，却不追求很快的响应时间。
    * 响应时间是操作系统的计算延迟。低延迟增加交互式表现，比如鼠标键盘的操作。

### 公平的定义

* 保证每个进程占用相同的CPU时间；保证每个进程的等待时间相同。
* 公平通常会增加平均响应时间。