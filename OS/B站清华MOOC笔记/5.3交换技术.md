# 5.3交换技术

目标：多道程序在内存中时，让正在运行的程序或者需要运行的程序获得更多的内存资源

### 方法

* 可将暂时不能运行的程序送到外存中，从而获得空闲内存空间。
* 操作系统把一个进程的整个地址空间的内存保存在外存中（换出 swap out），而将外村中的某个进程的地址空间读入到内存中（换入 swap in）。换入换出的内容大小为整个进程的地址空间。
    * 导入导出开销与进程大小正比

### 实现交换技术的问题

* 交换时机的确定：只有当内存空间不够或者有不够的危险时换出。（频繁发生消耗过大）
* 硬盘上专门划出一个区叫交换区。交换区的大小：必须足够大以存放所有用户进程的所有内存映像的拷贝；必须能对这些内存映像进行直接存取。
* 程序换入时的重定位：换出后再换入的内存地址可能和原位置不一致，最好采用动态地址映射的方法。

### 交换与覆盖的对比

* 目标一致：较大的程序运行在较小的内存当中。
* 覆盖发生在一个程序中的没有调用关系的模块；交换发生在程序之间。
* 覆盖需要程序员给出程序内各个模块间的逻辑覆盖结构；而交换是由操作系统完成的。
* 覆盖的消耗较小，交换的消耗较大。